### 一、Mysql死锁

事务中的select for update 或者更新操作都会获取写锁，如果超过超时时间还没获取到锁(默认50s)就会报出死锁。

原因：mysql的行锁基于索引实现，如果走了索引但扫描到了太多行，需要加锁的行就很多。如果更新非常频繁，那么就有可能部分sql一直等待获取锁。

解法：调整索引，加锁的行尽可能的少。

